[
  {
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "achievement-badge",
    "type": "registry:ui",
    "dependencies": [
      "class-variance-authority",
      "lucide-react"
    ],
    "registryDependencies": [],
    "files": [
      {
        "path": "components/ui/achievement-badge.tsx",
        "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { Lock, Trophy } from \"lucide-react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Types (inlined)\ninterface Achievement {\n  id: string\n  name: string\n  trigger: \"metric\" | \"api\" | \"streak\"\n  description?: string | null\n  badgeUrl?: string | null\n  key?: string\n  metricId?: string\n  metricName?: string\n  metricValue?: number\n  streakLength?: number\n  userAttributes?: Array<{ key: string; value: string }>\n  eventAttribute?: { key: string; value: string }\n}\n\ninterface UserAchievement extends Achievement {\n  achievedAt: string | null // null = locked\n}\n\n// Variants\nconst achievementBadgeVariants = cva(\n  \"relative flex flex-col items-center gap-2 rounded-lg border p-4 transition-all\",\n  {\n    variants: {\n      variant: {\n        card: \"bg-card shadow-sm hover:shadow-md\",\n        badge: \"bg-transparent border-none p-2\",\n        minimal: \"border-none bg-transparent p-1\",\n      },\n      size: {\n        sm: \"w-20\",\n        default: \"w-28\",\n        lg: \"w-36\",\n        xl: \"w-44\",\n      },\n    },\n    defaultVariants: {\n      variant: \"card\",\n      size: \"default\",\n    },\n  }\n)\n\n// Props\ninterface AchievementBadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof achievementBadgeVariants> {\n  /** Achievement data (use UserAchievement for locked/unlocked state) */\n  achievement: UserAchievement\n  /** Show description below name */\n  showDescription?: boolean\n  /** Show progress for metric achievements */\n  showProgress?: boolean\n  /** Current value for metric progress */\n  currentValue?: number\n  /** Style for locked achievements */\n  lockedStyle?: \"grayscale\" | \"silhouette\" | \"hidden\"\n  /** Show lock icon on locked achievements */\n  showLockIcon?: boolean\n  /** Custom icon when no badgeUrl */\n  icon?: React.ReactNode\n}\n\nconst AchievementBadge = React.forwardRef<HTMLDivElement, AchievementBadgeProps>(\n  (\n    {\n      className,\n      variant,\n      size,\n      achievement,\n      showDescription = false,\n      showProgress = false,\n      currentValue = 0,\n      lockedStyle = \"grayscale\",\n      showLockIcon = true,\n      icon,\n      onClick,\n      ...props\n    },\n    ref\n  ) => {\n    const isUnlocked = achievement.achievedAt !== null\n    const isMetric = achievement.trigger === \"metric\"\n    const target = achievement.metricValue ?? 0\n    const progress = target > 0 ? Math.min((currentValue / target) * 100, 100) : 0\n\n    // Don't render if locked and lockedStyle is \"hidden\"\n    if (!isUnlocked && lockedStyle === \"hidden\") {\n      return null\n    }\n\n    const imageSize = {\n      sm: \"h-12 w-12\",\n      default: \"h-16 w-16\",\n      lg: \"h-20 w-20\",\n      xl: \"h-24 w-24\",\n    }[size ?? \"default\"]\n\n    const iconSize = {\n      sm: \"h-8 w-8\",\n      default: \"h-10 w-10\",\n      lg: \"h-12 w-12\",\n      xl: \"h-14 w-14\",\n    }[size ?? \"default\"]\n\n    const textSize = {\n      sm: \"text-xs\",\n      default: \"text-sm\",\n      lg: \"text-base\",\n      xl: \"text-lg\",\n    }[size ?? \"default\"]\n\n    return (\n      <div\n        ref={ref}\n        role={onClick ? \"button\" : undefined}\n        tabIndex={onClick ? 0 : undefined}\n        onClick={onClick}\n        onKeyDown={\n          onClick\n            ? (e) => {\n                if (e.key === \"Enter\" || e.key === \" \") {\n                  e.preventDefault()\n                  onClick(e as unknown as React.MouseEvent<HTMLDivElement>)\n                }\n              }\n            : undefined\n        }\n        className={cn(\n          achievementBadgeVariants({ variant, size }),\n          onClick && \"cursor-pointer\",\n          !isUnlocked && lockedStyle === \"grayscale\" && \"opacity-50\",\n          className\n        )}\n        {...props}\n      >\n        {/* Badge image or icon */}\n        <div className=\"relative\">\n          {achievement.badgeUrl ? (\n            <img\n              src={achievement.badgeUrl}\n              alt={achievement.name}\n              className={cn(\n                imageSize,\n                \"rounded-full object-cover\",\n                !isUnlocked && lockedStyle === \"grayscale\" && \"grayscale\",\n                !isUnlocked && lockedStyle === \"silhouette\" && \"brightness-0 opacity-30\"\n              )}\n            />\n          ) : (\n            <div\n              className={cn(\n                imageSize,\n                \"flex items-center justify-center rounded-full\",\n                isUnlocked\n                  ? \"bg-purple-500 text-white\"\n                  : \"bg-muted text-muted-foreground\"\n              )}\n            >\n              {icon ?? <Trophy className={iconSize} />}\n            </div>\n          )}\n\n          {/* Lock icon overlay */}\n          {!isUnlocked && showLockIcon && (\n            <div className=\"absolute -bottom-1 -right-1 rounded-full bg-background p-1 shadow-sm\">\n              <Lock className=\"h-3 w-3 text-muted-foreground\" />\n            </div>\n          )}\n        </div>\n\n        {/* Name */}\n        <span\n          className={cn(\n            textSize,\n            \"text-center font-medium leading-tight\",\n            !isUnlocked && \"text-muted-foreground\"\n          )}\n        >\n          {achievement.name}\n        </span>\n\n        {/* Description */}\n        {showDescription && achievement.description && (\n          <span className=\"text-xs text-center text-muted-foreground line-clamp-2\">\n            {achievement.description}\n          </span>\n        )}\n\n        {/* Progress bar for metric achievements */}\n        {showProgress && isMetric && !isUnlocked && (\n          <div className=\"w-full space-y-1\">\n            <div className=\"h-1.5 w-full overflow-hidden rounded-full bg-muted\">\n              <div\n                className=\"h-full bg-purple-500 transition-all\"\n                style={{ width: `${progress}%` }}\n              />\n            </div>\n            <span className=\"text-xs text-muted-foreground text-center block\">\n              {currentValue}/{target}\n            </span>\n          </div>\n        )}\n      </div>\n    )\n  }\n)\nAchievementBadge.displayName = \"AchievementBadge\"\n\nexport { AchievementBadge, achievementBadgeVariants }\nexport type { AchievementBadgeProps, Achievement, UserAchievement }\n",
        "type": "registry:ui"
      }
    ]
  },
  {
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "streak-at-risk",
    "type": "registry:ui",
    "dependencies": [
      "class-variance-authority",
      "lucide-react"
    ],
    "registryDependencies": [],
    "files": [
      {
        "path": "components/ui/streak-at-risk.tsx",
        "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { AlertTriangle, Flame, X } from \"lucide-react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Types (inlined)\ninterface StreakResponse {\n  length: number;\n  frequency: \"daily\" | \"weekly\" | \"monthly\";\n  started: string | null;\n  periodStart: string | null;\n  periodEnd: string | null;\n  expires: string | null;\n  streakHistory: Array<{\n    periodStart: string;\n    periodEnd: string;\n    length: number;\n    usedFreeze?: boolean;\n  }>;\n  rank: number | null;\n  freezes?: number;\n  maxFreezes?: number;\n}\n\n// Helper to calculate time remaining until end of day\nfunction getTimeRemainingMs(expiresDate: string | null): number | null {\n  if (!expiresDate) return null;\n\n  // expires is a date string (YYYY-MM-DD), assume end of day (23:59:59)\n  const expireDateTime = new Date(expiresDate + \"T23:59:59\");\n  const now = new Date();\n  const remaining = expireDateTime.getTime() - now.getTime();\n\n  return remaining > 0 ? remaining : 0;\n}\n\n// Format time remaining\nfunction formatTimeRemaining(ms: number): string {\n  const hours = Math.floor(ms / (1000 * 60 * 60));\n  const minutes = Math.floor((ms % (1000 * 60 * 60)) / (1000 * 60));\n\n  if (hours > 24) {\n    const days = Math.floor(hours / 24);\n    return `${days}d ${hours % 24}h`;\n  }\n  if (hours > 0) {\n    return `${hours}h ${minutes}m`;\n  }\n  return `${minutes}m`;\n}\n\n// Variants\nconst streakAtRiskVariants = cva(\n  \"flex items-center gap-3 rounded-lg border p-4 transition-colors\",\n  {\n    variants: {\n      variant: {\n        banner: \"w-full\",\n        toast: \"w-auto max-w-sm shadow-lg\",\n        inline: \"w-auto\",\n      },\n      severity: {\n        warning:\n          \"border-yellow-500/50 bg-yellow-500/10 text-yellow-700 dark:text-yellow-400\",\n        critical:\n          \"border-red-500/50 bg-red-500/10 text-red-700 dark:text-red-400\",\n      },\n    },\n    defaultVariants: {\n      variant: \"banner\",\n      severity: \"warning\",\n    },\n  },\n);\n\n// Props\ninterface StreakAtRiskProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    Omit<VariantProps<typeof streakAtRiskVariants>, \"severity\"> {\n  /** Trophy API streak response */\n  streak: StreakResponse;\n  /** Hours threshold for warning state (default: 6) */\n  warningHours?: number;\n  /** Hours threshold for critical state (default: 2) */\n  criticalHours?: number;\n  /** Show countdown timer */\n  showCountdown?: boolean;\n  /** Allow dismissing the alert */\n  dismissible?: boolean;\n  /** Callback when dismissed */\n  onDismiss?: () => void;\n  /** Callback when action button clicked */\n  onAction?: () => void;\n  /** Label for action button */\n  actionLabel?: string;\n}\n\nconst StreakAtRisk = React.forwardRef<HTMLDivElement, StreakAtRiskProps>(\n  (\n    {\n      className,\n      variant,\n      streak,\n      warningHours = 6,\n      criticalHours = 2,\n      showCountdown = true,\n      dismissible = false,\n      onDismiss,\n      onAction,\n      actionLabel = \"Keep streak alive\",\n      ...props\n    },\n    ref,\n  ) => {\n    const [dismissed, setDismissed] = React.useState(false);\n    const [timeRemaining, setTimeRemaining] = React.useState<number | null>(\n      () => getTimeRemainingMs(streak.expires),\n    );\n\n    // Update countdown\n    React.useEffect(() => {\n      if (!showCountdown || !streak.expires) return;\n\n      const interval = setInterval(() => {\n        setTimeRemaining(getTimeRemainingMs(streak.expires));\n      }, 60000); // Update every minute\n\n      return () => clearInterval(interval);\n    }, [showCountdown, streak.expires]);\n\n    // Don't render if dismissed\n    if (dismissed) return null;\n\n    // Don't render if no expiration or already expired\n    if (timeRemaining === null || timeRemaining <= 0) return null;\n\n    const hoursRemaining = timeRemaining / (1000 * 60 * 60);\n\n    // Don't render if not at risk yet\n    if (hoursRemaining > warningHours) return null;\n\n    const isCritical = hoursRemaining <= criticalHours;\n    const severity = isCritical ? \"critical\" : \"warning\";\n\n    const handleDismiss = () => {\n      setDismissed(true);\n      onDismiss?.();\n    };\n\n    const Icon = isCritical ? AlertTriangle : Flame;\n\n    return (\n      <div\n        ref={ref}\n        role=\"alert\"\n        className={cn(streakAtRiskVariants({ variant, severity }), className)}\n        {...props}\n      >\n        <Icon className=\"h-5 w-5 shrink-0\" />\n\n        <div className=\"flex-1 space-y-1\">\n          <p className=\"font-medium\">\n            {isCritical ? \"Streak expires soon!\" : \"Your streak is at risk\"}\n          </p>\n          {showCountdown && (\n            <p className=\"text-sm opacity-80\">\n              {formatTimeRemaining(timeRemaining)} remaining to extend your{\" \"}\n              {streak.length}-day streak\n            </p>\n          )}\n        </div>\n\n        {onAction && (\n          <button\n            type=\"button\"\n            onClick={onAction}\n            className={cn(\n              \"shrink-0 rounded-md px-3 py-1.5 text-sm font-medium transition-colors\",\n              isCritical\n                ? \"bg-red-500 text-white hover:bg-red-600\"\n                : \"bg-yellow-500 text-white hover:bg-yellow-600\",\n            )}\n          >\n            {actionLabel}\n          </button>\n        )}\n\n        {dismissible && (\n          <button\n            type=\"button\"\n            onClick={handleDismiss}\n            className=\"shrink-0 rounded-md p-1 opacity-70 hover:opacity-100 transition-opacity\"\n            aria-label=\"Dismiss\"\n          >\n            <X className=\"h-4 w-4\" />\n          </button>\n        )}\n      </div>\n    );\n  },\n);\nStreakAtRisk.displayName = \"StreakAtRisk\";\n\nexport { StreakAtRisk, streakAtRiskVariants };\nexport type { StreakAtRiskProps, StreakResponse };\n",
        "type": "registry:ui"
      }
    ]
  },
  {
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "streak-badge",
    "type": "registry:ui",
    "dependencies": [
      "class-variance-authority",
      "lucide-react"
    ],
    "registryDependencies": [],
    "files": [
      {
        "path": "components/ui/streak-badge.tsx",
        "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Flame } from \"lucide-react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Types (inlined)\ninterface StreakPeriod {\n  periodStart: string;\n  periodEnd: string;\n  length: number;\n  usedFreeze?: boolean;\n}\n\ninterface StreakResponse {\n  length: number;\n  frequency: \"daily\" | \"weekly\" | \"monthly\";\n  started: string | null;\n  periodStart: string | null;\n  periodEnd: string | null;\n  expires: string | null;\n  streakHistory: StreakPeriod[];\n  rank: number | null;\n  freezes?: number;\n  maxFreezes?: number;\n  freezeAutoEarnInterval?: number;\n  freezeAutoEarnAmount?: number;\n}\n\n// Variants\nconst streakBadgeVariants = cva(\n  \"inline-flex items-center gap-1.5 rounded-full font-semibold transition-colors\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-orange-500 text-white hover:bg-orange-600\",\n        outline:\n          \"border-2 border-orange-500 text-orange-500 bg-transparent hover:bg-orange-50 dark:hover:bg-orange-950\",\n        ghost: \"text-orange-500 bg-orange-500/10 hover:bg-orange-500/20\",\n      },\n      size: {\n        sm: \"text-xs px-2 py-0.5\",\n        default: \"text-sm px-3 py-1\",\n        lg: \"text-base px-4 py-1.5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\n// Props\ninterface StreakBadgeProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof streakBadgeVariants> {\n  /** Trophy API streak response */\n  streak?: StreakResponse;\n  /** Manual streak length (alternative to streak prop) */\n  length?: number;\n  /** Show frequency label (day/week/month) */\n  showFrequency?: boolean;\n  /** Show flame icon */\n  showFlame?: boolean;\n  /** Custom icon to replace flame */\n  icon?: React.ReactNode;\n  /** Animate on mount/change */\n  animate?: boolean;\n}\n\nconst StreakBadge = React.forwardRef<HTMLDivElement, StreakBadgeProps>(\n  (\n    {\n      className,\n      variant,\n      size,\n      streak,\n      length,\n      showFrequency = false,\n      showFlame = true,\n      icon,\n      animate = true,\n      ...props\n    },\n    ref,\n  ) => {\n    const streakLength = streak?.length ?? length ?? 0;\n    const frequency = streak?.frequency ?? \"daily\";\n\n    const frequencyLabel = {\n      daily: \"day\",\n      weekly: \"week\",\n      monthly: \"month\",\n    }[frequency];\n\n    const pluralLabel =\n      streakLength === 1 ? frequencyLabel : `${frequencyLabel}s`;\n\n    const iconSize = {\n      sm: \"h-3 w-3\",\n      default: \"h-4 w-4\",\n      lg: \"h-5 w-5\",\n    }[size ?? \"default\"];\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          streakBadgeVariants({ variant, size }),\n          animate && \"motion-safe:animate-streak-pulse\",\n          className,\n        )}\n        {...props}\n      >\n        {showFlame && (icon ?? <Flame className={cn(iconSize, \"shrink-0\")} />)}\n        <span>{streakLength}</span>\n        {showFrequency && (\n          <span className=\"font-normal opacity-80\">{pluralLabel}</span>\n        )}\n      </div>\n    );\n  },\n);\nStreakBadge.displayName = \"StreakBadge\";\n\nexport { StreakBadge, streakBadgeVariants };\nexport type { StreakBadgeProps, StreakResponse, StreakPeriod };\n",
        "type": "registry:ui"
      }
    ]
  },
  {
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "streak-calendar",
    "type": "registry:ui",
    "dependencies": [
      "lucide-react"
    ],
    "registryDependencies": [],
    "files": [
      {
        "path": "components/ui/streak-calendar.tsx",
        "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Snowflake } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Types (inlined)\ninterface StreakPeriod {\n  periodStart: string;\n  periodEnd: string;\n  length: number;\n  usedFreeze?: boolean;\n}\n\ninterface StreakResponse {\n  length: number;\n  frequency: \"daily\" | \"weekly\" | \"monthly\";\n  started: string | null;\n  periodStart: string | null;\n  periodEnd: string | null;\n  expires: string | null;\n  streakHistory: StreakPeriod[];\n  rank: number | null;\n  freezes?: number;\n  maxFreezes?: number;\n}\n\n// Helper to check if a date falls within a streak period\nfunction isDateInPeriod(date: Date, period: StreakPeriod): boolean {\n  const d = date.toISOString().split(\"T\")[0];\n  return d >= period.periodStart && d <= period.periodEnd;\n}\n\n// Helper to check if date used a freeze\nfunction didUseFreezeOnDate(date: Date, periods: StreakPeriod[]): boolean {\n  for (const period of periods) {\n    if (isDateInPeriod(date, period) && period.usedFreeze) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// Helper to check if date was active in streak\nfunction wasDateActive(date: Date, periods: StreakPeriod[]): boolean {\n  for (const period of periods) {\n    if (isDateInPeriod(date, period)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// Get days in month\nfunction getDaysInMonth(year: number, month: number): number {\n  return new Date(year, month + 1, 0).getDate();\n}\n\n// Get day of week for first day of month (0 = Sunday)\nfunction getFirstDayOfMonth(year: number, month: number): number {\n  return new Date(year, month, 1).getDay();\n}\n\n// Props\ninterface StreakCalendarProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Trophy API streak response (must include streakHistory) */\n  streak: StreakResponse;\n  /** Month to display (default: current month) */\n  month?: Date;\n  /** Show freeze indicators */\n  showFreezes?: boolean;\n  /** Start of week: 0 = Sunday, 1 = Monday */\n  startOfWeek?: 0 | 1;\n  /** Callback when a day is clicked */\n  onDayClick?: (date: Date, wasActive: boolean) => void;\n}\n\nconst WEEKDAYS_SUNDAY = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\nconst WEEKDAYS_MONDAY = [\"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"];\n\nconst StreakCalendar = React.forwardRef<HTMLDivElement, StreakCalendarProps>(\n  (\n    {\n      className,\n      streak,\n      month = new Date(),\n      showFreezes = true,\n      startOfWeek = 0,\n      onDayClick,\n      ...props\n    },\n    ref,\n  ) => {\n    const year = month.getFullYear();\n    const monthIndex = month.getMonth();\n    const daysInMonth = getDaysInMonth(year, monthIndex);\n    const firstDayOfMonth = getFirstDayOfMonth(year, monthIndex);\n\n    // Adjust first day based on start of week preference\n    const adjustedFirstDay =\n      startOfWeek === 1\n        ? (firstDayOfMonth + 6) % 7 // Monday start\n        : firstDayOfMonth; // Sunday start\n\n    const weekdays = startOfWeek === 1 ? WEEKDAYS_MONDAY : WEEKDAYS_SUNDAY;\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    const periods = streak.streakHistory ?? [];\n\n    // Generate calendar days\n    const days: (number | null)[] = [];\n\n    // Add empty cells for days before the first of the month\n    for (let i = 0; i < adjustedFirstDay; i++) {\n      days.push(null);\n    }\n\n    // Add days of the month\n    for (let day = 1; day <= daysInMonth; day++) {\n      days.push(day);\n    }\n\n    const monthName = month.toLocaleDateString(\"en-US\", { month: \"long\" });\n\n    return (\n      <div ref={ref} className={cn(\"w-full max-w-sm\", className)} {...props}>\n        {/* Header */}\n        <div className=\"mb-4 text-center\">\n          <h3 className=\"text-lg font-semibold\">\n            {monthName} {year}\n          </h3>\n        </div>\n\n        {/* Weekday headers */}\n        <div className=\"mb-2 grid grid-cols-7 gap-1\">\n          {weekdays.map((day) => (\n            <div\n              key={day}\n              className=\"text-center text-xs font-medium text-muted-foreground\"\n            >\n              {day}\n            </div>\n          ))}\n        </div>\n\n        {/* Calendar grid */}\n        <div className=\"grid grid-cols-7 gap-1\">\n          {days.map((day, index) => {\n            if (day === null) {\n              return <div key={`empty-${index}`} className=\"aspect-square\" />;\n            }\n\n            const date = new Date(year, monthIndex, day);\n            const isToday = date.getTime() === today.getTime();\n            const isFuture = date > today;\n            const isActive = wasDateActive(date, periods);\n            const usedFreeze = showFreezes && didUseFreezeOnDate(date, periods);\n\n            return (\n              <button\n                key={day}\n                type=\"button\"\n                onClick={() => onDayClick?.(date, isActive)}\n                disabled={isFuture}\n                className={cn(\n                  \"relative aspect-square flex items-center justify-center rounded-md text-sm transition-colors\",\n                  \"hover:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n                  isToday && \"ring-2 ring-primary\",\n                  isFuture && \"text-muted-foreground/50 cursor-not-allowed\",\n                  isActive &&\n                    !usedFreeze &&\n                    \"bg-orange-500 text-white hover:bg-orange-600\",\n                  usedFreeze && \"bg-blue-500 text-white hover:bg-blue-600\",\n                )}\n              >\n                {day}\n                {usedFreeze && (\n                  <Snowflake className=\"absolute -top-1 -right-1 h-3 w-3 text-blue-200\" />\n                )}\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Legend */}\n        <div className=\"mt-4 flex items-center justify-center gap-4 text-xs text-muted-foreground\">\n          <div className=\"flex items-center gap-1\">\n            <div className=\"h-3 w-3 rounded bg-orange-500\" />\n            <span>Active</span>\n          </div>\n          {showFreezes && (\n            <div className=\"flex items-center gap-1\">\n              <div className=\"h-3 w-3 rounded bg-blue-500\" />\n              <span>Freeze used</span>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  },\n);\nStreakCalendar.displayName = \"StreakCalendar\";\n\nexport { StreakCalendar };\nexport type { StreakCalendarProps, StreakResponse, StreakPeriod };\n",
        "type": "registry:ui"
      }
    ]
  },
  {
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "streak-freeze-indicator",
    "type": "registry:ui",
    "dependencies": [
      "class-variance-authority",
      "lucide-react"
    ],
    "registryDependencies": [],
    "files": [
      {
        "path": "components/ui/streak-freeze-indicator.tsx",
        "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Snowflake } from \"lucide-react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Types (inlined)\ninterface StreakResponse {\n  length: number;\n  frequency: \"daily\" | \"weekly\" | \"monthly\";\n  started: string | null;\n  periodStart: string | null;\n  periodEnd: string | null;\n  expires: string | null;\n  streakHistory: Array<{\n    periodStart: string;\n    periodEnd: string;\n    length: number;\n    usedFreeze?: boolean;\n  }>;\n  rank: number | null;\n  freezes?: number;\n  maxFreezes?: number;\n  freezeAutoEarnInterval?: number;\n  freezeAutoEarnAmount?: number;\n}\n\n// Variants\nconst freezeIndicatorVariants = cva(\"inline-flex items-center gap-1\", {\n  variants: {\n    variant: {\n      dots: \"gap-1\",\n      snowflakes: \"gap-0.5\",\n      text: \"gap-1.5\",\n    },\n    size: {\n      sm: \"text-xs\",\n      default: \"text-sm\",\n      lg: \"text-base\",\n    },\n  },\n  defaultVariants: {\n    variant: \"dots\",\n    size: \"default\",\n  },\n});\n\n// Props\ninterface StreakFreezeIndicatorProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof freezeIndicatorVariants> {\n  /** Trophy API streak response */\n  streak?: StreakResponse;\n  /** Manual freeze count (alternative to streak prop) */\n  freezes?: number;\n  /** Manual max freezes (alternative to streak prop) */\n  maxFreezes?: number;\n  /** Show \"2/3\" format instead of just indicators */\n  showMax?: boolean;\n  /** Custom filled indicator */\n  filledIcon?: React.ReactNode;\n  /** Custom empty indicator */\n  emptyIcon?: React.ReactNode;\n}\n\nconst StreakFreezeIndicator = React.forwardRef<\n  HTMLDivElement,\n  StreakFreezeIndicatorProps\n>(\n  (\n    {\n      className,\n      variant,\n      size,\n      streak,\n      freezes: freezesProp,\n      maxFreezes: maxFreezesProp,\n      showMax = false,\n      filledIcon,\n      emptyIcon,\n      ...props\n    },\n    ref,\n  ) => {\n    const freezes = streak?.freezes ?? freezesProp ?? 0;\n    const maxFreezes = streak?.maxFreezes ?? maxFreezesProp ?? freezes;\n\n    // If no freezes configured, don't render\n    if (maxFreezes === 0) {\n      return null;\n    }\n\n    const iconSize = {\n      sm: \"h-3 w-3\",\n      default: \"h-4 w-4\",\n      lg: \"h-5 w-5\",\n    }[size ?? \"default\"];\n\n    const dotSize = {\n      sm: \"h-2 w-2\",\n      default: \"h-2.5 w-2.5\",\n      lg: \"h-3 w-3\",\n    }[size ?? \"default\"];\n\n    // Text variant\n    if (variant === \"text\") {\n      return (\n        <div\n          ref={ref}\n          className={cn(freezeIndicatorVariants({ variant, size }), className)}\n          {...props}\n        >\n          <Snowflake className={cn(iconSize, \"text-blue-500\")} />\n          <span className=\"font-medium\">\n            {freezes}\n            {showMax && (\n              <span className=\"text-muted-foreground\">/{maxFreezes}</span>\n            )}\n          </span>\n        </div>\n      );\n    }\n\n    // Dots or snowflakes variant\n    const indicators = [];\n    for (let i = 0; i < maxFreezes; i++) {\n      const isFilled = i < freezes;\n\n      if (variant === \"snowflakes\") {\n        indicators.push(\n          <Snowflake\n            key={i}\n            className={cn(\n              iconSize,\n              isFilled ? \"text-blue-500\" : \"text-muted-foreground/30\",\n            )}\n          />,\n        );\n      } else {\n        // dots variant (default)\n        indicators.push(\n          <div\n            key={i}\n            className={cn(\n              dotSize,\n              \"rounded-full transition-colors\",\n              isFilled ? \"bg-blue-500\" : \"bg-muted-foreground/30\",\n            )}\n          />,\n        );\n      }\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(freezeIndicatorVariants({ variant, size }), className)}\n        title={`${freezes} of ${maxFreezes} streak freezes available`}\n        {...props}\n      >\n        {indicators}\n        {showMax && variant === \"dots\" && (\n          <span className=\"ml-1 text-muted-foreground\">\n            {freezes}/{maxFreezes}\n          </span>\n        )}\n      </div>\n    );\n  },\n);\nStreakFreezeIndicator.displayName = \"StreakFreezeIndicator\";\n\nexport { StreakFreezeIndicator, freezeIndicatorVariants };\nexport type { StreakFreezeIndicatorProps, StreakResponse };\n",
        "type": "registry:ui"
      }
    ]
  }
]