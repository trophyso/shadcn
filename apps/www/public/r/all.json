[
  {
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "streak-badge",
    "type": "registry:ui",
    "dependencies": [
      "class-variance-authority",
      "lucide-react"
    ],
    "registryDependencies": [],
    "files": [
      {
        "path": "components/ui/streak-badge.tsx",
        "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Flame } from \"lucide-react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Types (inlined)\ninterface StreakPeriod {\n  periodStart: string;\n  periodEnd: string;\n  length: number;\n  usedFreeze?: boolean;\n}\n\ninterface StreakResponse {\n  length: number;\n  frequency: \"daily\" | \"weekly\" | \"monthly\";\n  started: string | null;\n  periodStart: string | null;\n  periodEnd: string | null;\n  expires: string | null;\n  streakHistory: StreakPeriod[];\n  rank: number | null;\n  freezes?: number;\n  maxFreezes?: number;\n  freezeAutoEarnInterval?: number;\n  freezeAutoEarnAmount?: number;\n}\n\n// Variants\nconst streakBadgeVariants = cva(\n  \"inline-flex items-center gap-1.5 rounded-full font-semibold transition-colors\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-orange-500 text-white hover:bg-orange-600\",\n        outline:\n          \"border-2 border-orange-500 text-orange-500 bg-transparent hover:bg-orange-50 dark:hover:bg-orange-950\",\n        ghost: \"text-orange-500 bg-orange-500/10 hover:bg-orange-500/20\",\n      },\n      size: {\n        sm: \"text-xs px-2 py-0.5\",\n        default: \"text-sm px-3 py-1\",\n        lg: \"text-base px-4 py-1.5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\n// Props\ninterface StreakBadgeProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof streakBadgeVariants> {\n  /** Trophy API streak response */\n  streak?: StreakResponse;\n  /** Manual streak length (alternative to streak prop) */\n  length?: number;\n  /** Show frequency label (day/week/month) */\n  showFrequency?: boolean;\n  /** Show flame icon */\n  showFlame?: boolean;\n  /** Custom icon to replace flame */\n  icon?: React.ReactNode;\n  /** Animate on mount/change */\n  animate?: boolean;\n}\n\nconst StreakBadge = React.forwardRef<HTMLDivElement, StreakBadgeProps>(\n  (\n    {\n      className,\n      variant,\n      size,\n      streak,\n      length,\n      showFrequency = false,\n      showFlame = true,\n      icon,\n      animate = true,\n      ...props\n    },\n    ref,\n  ) => {\n    const streakLength = streak?.length ?? length ?? 0;\n    const frequency = streak?.frequency ?? \"daily\";\n\n    const frequencyLabel = {\n      daily: \"day\",\n      weekly: \"week\",\n      monthly: \"month\",\n    }[frequency];\n\n    const pluralLabel =\n      streakLength === 1 ? frequencyLabel : `${frequencyLabel}s`;\n\n    const iconSize = {\n      sm: \"h-3 w-3\",\n      default: \"h-4 w-4\",\n      lg: \"h-5 w-5\",\n    }[size ?? \"default\"];\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          streakBadgeVariants({ variant, size }),\n          animate && \"motion-safe:animate-streak-pulse\",\n          className,\n        )}\n        {...props}\n      >\n        {showFlame && (icon ?? <Flame className={cn(iconSize, \"shrink-0\")} />)}\n        <span>{streakLength}</span>\n        {showFrequency && (\n          <span className=\"font-normal opacity-80\">{pluralLabel}</span>\n        )}\n      </div>\n    );\n  },\n);\nStreakBadge.displayName = \"StreakBadge\";\n\nexport { StreakBadge, streakBadgeVariants };\nexport type { StreakBadgeProps, StreakResponse, StreakPeriod };\n",
        "type": "registry:ui"
      }
    ]
  },
  {
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "streak-calendar",
    "type": "registry:ui",
    "dependencies": [
      "lucide-react"
    ],
    "registryDependencies": [],
    "files": [
      {
        "path": "components/ui/streak-calendar.tsx",
        "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Snowflake } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Types (inlined)\ninterface StreakPeriod {\n  periodStart: string;\n  periodEnd: string;\n  length: number;\n  usedFreeze?: boolean;\n}\n\ninterface StreakResponse {\n  length: number;\n  frequency: \"daily\" | \"weekly\" | \"monthly\";\n  started: string | null;\n  periodStart: string | null;\n  periodEnd: string | null;\n  expires: string | null;\n  streakHistory: StreakPeriod[];\n  rank: number | null;\n  freezes?: number;\n  maxFreezes?: number;\n}\n\n// Helper to check if a date falls within a streak period\nfunction isDateInPeriod(date: Date, period: StreakPeriod): boolean {\n  const d = date.toISOString().split(\"T\")[0];\n  return d >= period.periodStart && d <= period.periodEnd;\n}\n\n// Helper to check if date used a freeze\nfunction didUseFreezeOnDate(date: Date, periods: StreakPeriod[]): boolean {\n  for (const period of periods) {\n    if (isDateInPeriod(date, period) && period.usedFreeze) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// Helper to check if date was active in streak\nfunction wasDateActive(date: Date, periods: StreakPeriod[]): boolean {\n  for (const period of periods) {\n    if (isDateInPeriod(date, period)) {\n      return true;\n    }\n  }\n  return false;\n}\n\n// Get days in month\nfunction getDaysInMonth(year: number, month: number): number {\n  return new Date(year, month + 1, 0).getDate();\n}\n\n// Get day of week for first day of month (0 = Sunday)\nfunction getFirstDayOfMonth(year: number, month: number): number {\n  return new Date(year, month, 1).getDay();\n}\n\n// Props\ninterface StreakCalendarProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** Trophy API streak response (must include streakHistory) */\n  streak: StreakResponse;\n  /** Month to display (default: current month) */\n  month?: Date;\n  /** Show freeze indicators */\n  showFreezes?: boolean;\n  /** Start of week: 0 = Sunday, 1 = Monday */\n  startOfWeek?: 0 | 1;\n  /** Callback when a day is clicked */\n  onDayClick?: (date: Date, wasActive: boolean) => void;\n}\n\nconst WEEKDAYS_SUNDAY = [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"];\nconst WEEKDAYS_MONDAY = [\"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\", \"Su\"];\n\nconst StreakCalendar = React.forwardRef<HTMLDivElement, StreakCalendarProps>(\n  (\n    {\n      className,\n      streak,\n      month = new Date(),\n      showFreezes = true,\n      startOfWeek = 0,\n      onDayClick,\n      ...props\n    },\n    ref,\n  ) => {\n    const year = month.getFullYear();\n    const monthIndex = month.getMonth();\n    const daysInMonth = getDaysInMonth(year, monthIndex);\n    const firstDayOfMonth = getFirstDayOfMonth(year, monthIndex);\n\n    // Adjust first day based on start of week preference\n    const adjustedFirstDay =\n      startOfWeek === 1\n        ? (firstDayOfMonth + 6) % 7 // Monday start\n        : firstDayOfMonth; // Sunday start\n\n    const weekdays = startOfWeek === 1 ? WEEKDAYS_MONDAY : WEEKDAYS_SUNDAY;\n    const today = new Date();\n    today.setHours(0, 0, 0, 0);\n\n    const periods = streak.streakHistory ?? [];\n\n    // Generate calendar days\n    const days: (number | null)[] = [];\n\n    // Add empty cells for days before the first of the month\n    for (let i = 0; i < adjustedFirstDay; i++) {\n      days.push(null);\n    }\n\n    // Add days of the month\n    for (let day = 1; day <= daysInMonth; day++) {\n      days.push(day);\n    }\n\n    const monthName = month.toLocaleDateString(\"en-US\", { month: \"long\" });\n\n    return (\n      <div ref={ref} className={cn(\"w-full max-w-sm\", className)} {...props}>\n        {/* Header */}\n        <div className=\"mb-4 text-center\">\n          <h3 className=\"text-lg font-semibold\">\n            {monthName} {year}\n          </h3>\n        </div>\n\n        {/* Weekday headers */}\n        <div className=\"mb-2 grid grid-cols-7 gap-1\">\n          {weekdays.map((day) => (\n            <div\n              key={day}\n              className=\"text-center text-xs font-medium text-muted-foreground\"\n            >\n              {day}\n            </div>\n          ))}\n        </div>\n\n        {/* Calendar grid */}\n        <div className=\"grid grid-cols-7 gap-1\">\n          {days.map((day, index) => {\n            if (day === null) {\n              return <div key={`empty-${index}`} className=\"aspect-square\" />;\n            }\n\n            const date = new Date(year, monthIndex, day);\n            const isToday = date.getTime() === today.getTime();\n            const isFuture = date > today;\n            const isActive = wasDateActive(date, periods);\n            const usedFreeze = showFreezes && didUseFreezeOnDate(date, periods);\n\n            return (\n              <button\n                key={day}\n                type=\"button\"\n                onClick={() => onDayClick?.(date, isActive)}\n                disabled={isFuture}\n                className={cn(\n                  \"relative aspect-square flex items-center justify-center rounded-md text-sm transition-colors\",\n                  \"hover:bg-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n                  isToday && \"ring-2 ring-primary\",\n                  isFuture && \"text-muted-foreground/50 cursor-not-allowed\",\n                  isActive &&\n                    !usedFreeze &&\n                    \"bg-orange-500 text-white hover:bg-orange-600\",\n                  usedFreeze && \"bg-blue-500 text-white hover:bg-blue-600\",\n                )}\n              >\n                {day}\n                {usedFreeze && (\n                  <Snowflake className=\"absolute -top-1 -right-1 h-3 w-3 text-blue-200\" />\n                )}\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Legend */}\n        <div className=\"mt-4 flex items-center justify-center gap-4 text-xs text-muted-foreground\">\n          <div className=\"flex items-center gap-1\">\n            <div className=\"h-3 w-3 rounded bg-orange-500\" />\n            <span>Active</span>\n          </div>\n          {showFreezes && (\n            <div className=\"flex items-center gap-1\">\n              <div className=\"h-3 w-3 rounded bg-blue-500\" />\n              <span>Freeze used</span>\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  },\n);\nStreakCalendar.displayName = \"StreakCalendar\";\n\nexport { StreakCalendar };\nexport type { StreakCalendarProps, StreakResponse, StreakPeriod };\n",
        "type": "registry:ui"
      }
    ]
  },
  {
    "$schema": "https://ui.shadcn.com/schema/registry-item.json",
    "name": "streak-freeze-indicator",
    "type": "registry:ui",
    "dependencies": [
      "class-variance-authority",
      "lucide-react"
    ],
    "registryDependencies": [],
    "files": [
      {
        "path": "components/ui/streak-freeze-indicator.tsx",
        "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { Snowflake } from \"lucide-react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Types (inlined)\ninterface StreakResponse {\n  length: number\n  frequency: \"daily\" | \"weekly\" | \"monthly\"\n  started: string | null\n  periodStart: string | null\n  periodEnd: string | null\n  expires: string | null\n  streakHistory: Array<{\n    periodStart: string\n    periodEnd: string\n    length: number\n    usedFreeze?: boolean\n  }>\n  rank: number | null\n  freezes?: number\n  maxFreezes?: number\n  freezeAutoEarnInterval?: number\n  freezeAutoEarnAmount?: number\n}\n\n// Variants\nconst freezeIndicatorVariants = cva(\"inline-flex items-center gap-1\", {\n  variants: {\n    variant: {\n      dots: \"gap-1\",\n      snowflakes: \"gap-0.5\",\n      text: \"gap-1.5\",\n    },\n    size: {\n      sm: \"text-xs\",\n      default: \"text-sm\",\n      lg: \"text-base\",\n    },\n  },\n  defaultVariants: {\n    variant: \"dots\",\n    size: \"default\",\n  },\n})\n\n// Props\ninterface StreakFreezeIndicatorProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof freezeIndicatorVariants> {\n  /** Trophy API streak response */\n  streak?: StreakResponse\n  /** Manual freeze count (alternative to streak prop) */\n  freezes?: number\n  /** Manual max freezes (alternative to streak prop) */\n  maxFreezes?: number\n  /** Show \"2/3\" format instead of just indicators */\n  showMax?: boolean\n  /** Custom filled indicator */\n  filledIcon?: React.ReactNode\n  /** Custom empty indicator */\n  emptyIcon?: React.ReactNode\n}\n\nconst StreakFreezeIndicator = React.forwardRef<\n  HTMLDivElement,\n  StreakFreezeIndicatorProps\n>(\n  (\n    {\n      className,\n      variant,\n      size,\n      streak,\n      freezes: freezesProp,\n      maxFreezes: maxFreezesProp,\n      showMax = false,\n      filledIcon,\n      emptyIcon,\n      ...props\n    },\n    ref\n  ) => {\n    const freezes = streak?.freezes ?? freezesProp ?? 0\n    const maxFreezes = streak?.maxFreezes ?? maxFreezesProp ?? freezes\n\n    // If no freezes configured, don't render\n    if (maxFreezes === 0) {\n      return null\n    }\n\n    const iconSize = {\n      sm: \"h-3 w-3\",\n      default: \"h-4 w-4\",\n      lg: \"h-5 w-5\",\n    }[size ?? \"default\"]\n\n    const dotSize = {\n      sm: \"h-2 w-2\",\n      default: \"h-2.5 w-2.5\",\n      lg: \"h-3 w-3\",\n    }[size ?? \"default\"]\n\n    // Text variant\n    if (variant === \"text\") {\n      return (\n        <div\n          ref={ref}\n          className={cn(freezeIndicatorVariants({ variant, size }), className)}\n          {...props}\n        >\n          <Snowflake className={cn(iconSize, \"text-blue-500\")} />\n          <span className=\"font-medium\">\n            {freezes}\n            {showMax && <span className=\"text-muted-foreground\">/{maxFreezes}</span>}\n          </span>\n        </div>\n      )\n    }\n\n    // Dots or snowflakes variant\n    const indicators = []\n    for (let i = 0; i < maxFreezes; i++) {\n      const isFilled = i < freezes\n\n      if (variant === \"snowflakes\") {\n        indicators.push(\n          <Snowflake\n            key={i}\n            className={cn(\n              iconSize,\n              isFilled ? \"text-blue-500\" : \"text-muted-foreground/30\"\n            )}\n          />\n        )\n      } else {\n        // dots variant (default)\n        indicators.push(\n          <div\n            key={i}\n            className={cn(\n              dotSize,\n              \"rounded-full transition-colors\",\n              isFilled ? \"bg-blue-500\" : \"bg-muted-foreground/30\"\n            )}\n          />\n        )\n      }\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(freezeIndicatorVariants({ variant, size }), className)}\n        title={`${freezes} of ${maxFreezes} streak freezes available`}\n        {...props}\n      >\n        {indicators}\n        {showMax && variant === \"dots\" && (\n          <span className=\"ml-1 text-muted-foreground\">\n            {freezes}/{maxFreezes}\n          </span>\n        )}\n      </div>\n    )\n  }\n)\nStreakFreezeIndicator.displayName = \"StreakFreezeIndicator\"\n\nexport { StreakFreezeIndicator, freezeIndicatorVariants }\nexport type { StreakFreezeIndicatorProps, StreakResponse }\n",
        "type": "registry:ui"
      }
    ]
  }
]