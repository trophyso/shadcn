{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "achievement-unlocked",
  "type": "registry:ui",
  "dependencies": [
    "lucide-react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/achievement-unlocked.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { Share2, Trophy, X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Types (inlined)\ninterface Achievement {\n  id: string\n  name: string\n  trigger: \"metric\" | \"api\" | \"streak\"\n  description?: string | null\n  badgeUrl?: string | null\n  key?: string\n  metricId?: string\n  metricName?: string\n  metricValue?: number\n  streakLength?: number\n}\n\n// Props\ninterface AchievementUnlockedProps {\n  /** Achievement that was unlocked */\n  achievement: Achievement\n  /** Control open state */\n  open: boolean\n  /** Callback when open state changes */\n  onOpenChange: (open: boolean) => void\n  /** Callback when share button clicked */\n  onShare?: () => void\n  /** Custom class for the dialog */\n  className?: string\n}\n\nconst AchievementUnlocked = React.forwardRef<\n  HTMLDivElement,\n  AchievementUnlockedProps\n>(({ achievement, open, onOpenChange, onShare, className }, ref) => {\n  // Handle escape key\n  React.useEffect(() => {\n    if (!open) return\n\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === \"Escape\") {\n        onOpenChange(false)\n      }\n    }\n\n    document.addEventListener(\"keydown\", handleEscape)\n    return () => document.removeEventListener(\"keydown\", handleEscape)\n  }, [open, onOpenChange])\n\n  // Prevent body scroll when open\n  React.useEffect(() => {\n    if (open) {\n      document.body.style.overflow = \"hidden\"\n    } else {\n      document.body.style.overflow = \"\"\n    }\n    return () => {\n      document.body.style.overflow = \"\"\n    }\n  }, [open])\n\n  if (!open) return null\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div\n        className=\"fixed inset-0 z-50 bg-black/80 motion-safe:animate-in motion-safe:fade-in-0\"\n        onClick={() => onOpenChange(false)}\n        aria-hidden=\"true\"\n      />\n\n      {/* Dialog */}\n      <div\n        ref={ref}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby=\"achievement-title\"\n        className={cn(\n          \"fixed left-1/2 top-1/2 z-50 -translate-x-1/2 -translate-y-1/2\",\n          \"w-full max-w-md rounded-xl bg-card p-6 shadow-2xl\",\n          \"motion-safe:animate-in motion-safe:fade-in-0 motion-safe:zoom-in-95\",\n          className\n        )}\n      >\n        {/* Close button */}\n        <button\n          type=\"button\"\n          onClick={() => onOpenChange(false)}\n          className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\"\n          aria-label=\"Close\"\n        >\n          <X className=\"h-4 w-4\" />\n        </button>\n\n        {/* Content */}\n        <div className=\"flex flex-col items-center text-center\">\n          {/* Celebration text */}\n          <span className=\"mb-4 text-sm font-medium uppercase tracking-wider text-purple-500\">\n            Achievement Unlocked!\n          </span>\n\n          {/* Badge */}\n          <div className=\"relative mb-6\">\n            {/* Glow effect */}\n            <div className=\"absolute inset-0 rounded-full bg-purple-500/30 blur-xl motion-safe:animate-pulse\" />\n            \n            {achievement.badgeUrl ? (\n              <img\n                src={achievement.badgeUrl}\n                alt={achievement.name}\n                className=\"relative h-32 w-32 rounded-full object-cover ring-4 ring-purple-500/50\"\n              />\n            ) : (\n              <div className=\"relative flex h-32 w-32 items-center justify-center rounded-full bg-purple-500 text-white ring-4 ring-purple-500/50\">\n                <Trophy className=\"h-16 w-16\" />\n              </div>\n            )}\n          </div>\n\n          {/* Name */}\n          <h2\n            id=\"achievement-title\"\n            className=\"mb-2 text-2xl font-bold\"\n          >\n            {achievement.name}\n          </h2>\n\n          {/* Description */}\n          {achievement.description && (\n            <p className=\"mb-6 text-muted-foreground\">\n              {achievement.description}\n            </p>\n          )}\n\n          {/* Actions */}\n          <div className=\"flex gap-3\">\n            <button\n              type=\"button\"\n              onClick={() => onOpenChange(false)}\n              className=\"rounded-lg bg-primary px-6 py-2.5 font-medium text-primary-foreground transition-colors hover:bg-primary/90\"\n            >\n              Awesome!\n            </button>\n\n            {onShare && (\n              <button\n                type=\"button\"\n                onClick={onShare}\n                className=\"flex items-center gap-2 rounded-lg border px-4 py-2.5 font-medium transition-colors hover:bg-muted\"\n              >\n                <Share2 className=\"h-4 w-4\" />\n                Share\n              </button>\n            )}\n          </div>\n        </div>\n      </div>\n    </>\n  )\n})\nAchievementUnlocked.displayName = \"AchievementUnlocked\"\n\nexport { AchievementUnlocked }\nexport type { AchievementUnlockedProps, Achievement }\n",
      "type": "registry:ui"
    }
  ]
}