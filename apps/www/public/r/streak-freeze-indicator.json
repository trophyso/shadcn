{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "streak-freeze-indicator",
  "type": "registry:ui",
  "dependencies": [
    "class-variance-authority",
    "lucide-react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/streak-freeze-indicator.tsx",
      "content": "\"use client\"\n\nimport * as React from \"react\"\nimport { Snowflake } from \"lucide-react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\n// Types (inlined)\ninterface StreakResponse {\n  length: number\n  frequency: \"daily\" | \"weekly\" | \"monthly\"\n  started: string | null\n  periodStart: string | null\n  periodEnd: string | null\n  expires: string | null\n  streakHistory: Array<{\n    periodStart: string\n    periodEnd: string\n    length: number\n    usedFreeze?: boolean\n  }>\n  rank: number | null\n  freezes?: number\n  maxFreezes?: number\n  freezeAutoEarnInterval?: number\n  freezeAutoEarnAmount?: number\n}\n\n// Variants\nconst freezeIndicatorVariants = cva(\"inline-flex items-center gap-1\", {\n  variants: {\n    variant: {\n      dots: \"gap-1\",\n      snowflakes: \"gap-0.5\",\n      text: \"gap-1.5\",\n    },\n    size: {\n      sm: \"text-xs\",\n      default: \"text-sm\",\n      lg: \"text-base\",\n    },\n  },\n  defaultVariants: {\n    variant: \"dots\",\n    size: \"default\",\n  },\n})\n\n// Props\ninterface StreakFreezeIndicatorProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof freezeIndicatorVariants> {\n  /** Trophy API streak response */\n  streak?: StreakResponse\n  /** Manual freeze count (alternative to streak prop) */\n  freezes?: number\n  /** Manual max freezes (alternative to streak prop) */\n  maxFreezes?: number\n  /** Show \"2/3\" format instead of just indicators */\n  showMax?: boolean\n  /** Custom filled indicator */\n  filledIcon?: React.ReactNode\n  /** Custom empty indicator */\n  emptyIcon?: React.ReactNode\n}\n\nconst StreakFreezeIndicator = React.forwardRef<\n  HTMLDivElement,\n  StreakFreezeIndicatorProps\n>(\n  (\n    {\n      className,\n      variant,\n      size,\n      streak,\n      freezes: freezesProp,\n      maxFreezes: maxFreezesProp,\n      showMax = false,\n      filledIcon,\n      emptyIcon,\n      ...props\n    },\n    ref\n  ) => {\n    const freezes = streak?.freezes ?? freezesProp ?? 0\n    const maxFreezes = streak?.maxFreezes ?? maxFreezesProp ?? freezes\n\n    // If no freezes configured, don't render\n    if (maxFreezes === 0) {\n      return null\n    }\n\n    const iconSize = {\n      sm: \"h-3 w-3\",\n      default: \"h-4 w-4\",\n      lg: \"h-5 w-5\",\n    }[size ?? \"default\"]\n\n    const dotSize = {\n      sm: \"h-2 w-2\",\n      default: \"h-2.5 w-2.5\",\n      lg: \"h-3 w-3\",\n    }[size ?? \"default\"]\n\n    // Text variant\n    if (variant === \"text\") {\n      return (\n        <div\n          ref={ref}\n          className={cn(freezeIndicatorVariants({ variant, size }), className)}\n          {...props}\n        >\n          <Snowflake className={cn(iconSize, \"text-blue-500\")} />\n          <span className=\"font-medium\">\n            {freezes}\n            {showMax && <span className=\"text-muted-foreground\">/{maxFreezes}</span>}\n          </span>\n        </div>\n      )\n    }\n\n    // Dots or snowflakes variant\n    const indicators = []\n    for (let i = 0; i < maxFreezes; i++) {\n      const isFilled = i < freezes\n\n      if (variant === \"snowflakes\") {\n        indicators.push(\n          <Snowflake\n            key={i}\n            className={cn(\n              iconSize,\n              isFilled ? \"text-blue-500\" : \"text-muted-foreground/30\"\n            )}\n          />\n        )\n      } else {\n        // dots variant (default)\n        indicators.push(\n          <div\n            key={i}\n            className={cn(\n              dotSize,\n              \"rounded-full transition-colors\",\n              isFilled ? \"bg-blue-500\" : \"bg-muted-foreground/30\"\n            )}\n          />\n        )\n      }\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(freezeIndicatorVariants({ variant, size }), className)}\n        title={`${freezes} of ${maxFreezes} streak freezes available`}\n        {...props}\n      >\n        {indicators}\n        {showMax && variant === \"dots\" && (\n          <span className=\"ml-1 text-muted-foreground\">\n            {freezes}/{maxFreezes}\n          </span>\n        )}\n      </div>\n    )\n  }\n)\nStreakFreezeIndicator.displayName = \"StreakFreezeIndicator\"\n\nexport { StreakFreezeIndicator, freezeIndicatorVariants }\nexport type { StreakFreezeIndicatorProps, StreakResponse }\n",
      "type": "registry:ui"
    }
  ]
}