{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "leaderboard",
  "type": "registry:ui",
  "dependencies": [
    "class-variance-authority",
    "lucide-react"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/leaderboard.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { Crown, Medal, Trophy, TrendingDown, TrendingUp } from \"lucide-react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Types (inlined)\ninterface LeaderboardRanking {\n  userId: string;\n  userName: string | null;\n  rank: number;\n  value: number;\n}\n\ninterface LeaderboardResponse {\n  id: string;\n  name: string;\n  key: string;\n  rankBy: \"points\" | \"streak\" | \"metric\";\n  status: string;\n  description: string | null;\n  rankings: LeaderboardRanking[];\n  start: string;\n  end: string | null;\n  maxParticipants: number;\n}\n\n// Variants\nconst leaderboardVariants = cva(\"w-full\", {\n  variants: {\n    variant: {\n      table: \"divide-y divide-border\",\n      cards: \"space-y-2\",\n      compact: \"divide-y divide-border text-sm\",\n    },\n  },\n  defaultVariants: {\n    variant: \"table\",\n  },\n});\n\n// Helper to get rank icon/medal\nfunction getRankDisplay(rank: number) {\n  switch (rank) {\n    case 1:\n      return { icon: Crown, color: \"text-yellow-500\", bg: \"bg-yellow-500/10\" };\n    case 2:\n      return { icon: Medal, color: \"text-gray-400\", bg: \"bg-gray-400/10\" };\n    case 3:\n      return { icon: Medal, color: \"text-amber-600\", bg: \"bg-amber-600/10\" };\n    default:\n      return null;\n  }\n}\n\n// Props\ninterface LeaderboardProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof leaderboardVariants> {\n  /** Full leaderboard response from Trophy API */\n  leaderboard?: LeaderboardResponse;\n  /** Or just provide rankings directly */\n  rankings?: LeaderboardRanking[];\n  /** Highlight current user */\n  currentUserId?: string;\n  /** Max entries to show */\n  limit?: number;\n  /** Show value column */\n  showValue?: boolean;\n  /** Label for value column */\n  valueLabel?: string;\n  /** Show avatar placeholder */\n  showAvatar?: boolean;\n  /** Custom empty state */\n  emptyState?: React.ReactNode;\n  /** Callback when user row clicked */\n  onUserClick?: (ranking: LeaderboardRanking) => void;\n}\n\nconst Leaderboard = React.forwardRef<HTMLDivElement, LeaderboardProps>(\n  (\n    {\n      className,\n      variant,\n      leaderboard,\n      rankings: rankingsProp,\n      currentUserId,\n      limit,\n      showValue = true,\n      valueLabel = \"Score\",\n      showAvatar = true,\n      emptyState,\n      onUserClick,\n      ...props\n    },\n    ref,\n  ) => {\n    const rankings = leaderboard?.rankings ?? rankingsProp ?? [];\n    const displayRankings = limit ? rankings.slice(0, limit) : rankings;\n\n    if (displayRankings.length === 0) {\n      if (emptyState) return <>{emptyState}</>;\n      return (\n        <div className=\"flex flex-col items-center justify-center py-12 text-center text-muted-foreground\">\n          <Trophy className=\"h-12 w-12 mb-4 opacity-50\" />\n          <p className=\"text-sm\">No rankings yet</p>\n        </div>\n      );\n    }\n\n    return (\n      <div\n        ref={ref}\n        className={cn(leaderboardVariants({ variant }), className)}\n        role=\"list\"\n        aria-label=\"Leaderboard rankings\"\n        {...props}\n      >\n        {/* Header for table variant */}\n        {variant === \"table\" && (\n          <div className=\"flex items-center gap-4 px-4 py-2 text-sm font-medium text-muted-foreground\">\n            <span className=\"w-12 text-center\">Rank</span>\n            <span className=\"flex-1\">User</span>\n            {showValue && <span className=\"w-20 text-right\">{valueLabel}</span>}\n          </div>\n        )}\n\n        {displayRankings.map((ranking) => {\n          const isCurrentUser = ranking.userId === currentUserId;\n          const rankDisplay = getRankDisplay(ranking.rank);\n          const displayName =\n            ranking.userName || `User ${ranking.userId.slice(0, 6)}`;\n\n          return (\n            <div\n              key={ranking.userId}\n              role=\"listitem\"\n              onClick={() => onUserClick?.(ranking)}\n              onKeyDown={\n                onUserClick\n                  ? (e) => {\n                      if (e.key === \"Enter\" || e.key === \" \") {\n                        e.preventDefault();\n                        onUserClick(ranking);\n                      }\n                    }\n                  : undefined\n              }\n              tabIndex={onUserClick ? 0 : undefined}\n              className={cn(\n                \"flex items-center gap-4 px-4 py-3 transition-colors\",\n                variant === \"cards\" && \"rounded-lg border bg-card\",\n                onUserClick && \"cursor-pointer hover:bg-muted/50\",\n                isCurrentUser && \"bg-primary/5 font-medium\",\n              )}\n            >\n              {/* Rank */}\n              <div className=\"w-12 flex justify-center\">\n                {rankDisplay ? (\n                  <div\n                    className={cn(\n                      \"flex h-8 w-8 items-center justify-center rounded-full\",\n                      rankDisplay.bg,\n                    )}\n                  >\n                    <rankDisplay.icon\n                      className={cn(\"h-4 w-4\", rankDisplay.color)}\n                    />\n                  </div>\n                ) : (\n                  <span className=\"text-muted-foreground\">#{ranking.rank}</span>\n                )}\n              </div>\n\n              {/* Avatar + Name */}\n              <div className=\"flex flex-1 items-center gap-3 min-w-0\">\n                {showAvatar && (\n                  <div\n                    className={cn(\n                      \"flex h-8 w-8 shrink-0 items-center justify-center rounded-full text-sm font-medium\",\n                      isCurrentUser\n                        ? \"bg-primary text-primary-foreground\"\n                        : \"bg-muted text-muted-foreground\",\n                    )}\n                  >\n                    {displayName.charAt(0).toUpperCase()}\n                  </div>\n                )}\n                <span className=\"truncate\">\n                  {displayName}\n                  {isCurrentUser && (\n                    <span className=\"ml-2 text-xs text-muted-foreground\">\n                      (you)\n                    </span>\n                  )}\n                </span>\n              </div>\n\n              {/* Value */}\n              {showValue && (\n                <span className=\"w-20 text-right tabular-nums font-medium\">\n                  {ranking.value.toLocaleString()}\n                </span>\n              )}\n            </div>\n          );\n        })}\n\n        {/* Show more indicator */}\n        {limit && rankings.length > limit && (\n          <div className=\"px-4 py-2 text-center text-sm text-muted-foreground\">\n            +{rankings.length - limit} more\n          </div>\n        )}\n      </div>\n    );\n  },\n);\nLeaderboard.displayName = \"Leaderboard\";\n\nexport { Leaderboard, leaderboardVariants };\nexport type { LeaderboardProps, LeaderboardRanking, LeaderboardResponse };\n",
      "type": "registry:ui"
    }
  ]
}