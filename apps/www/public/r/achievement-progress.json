{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "achievement-progress",
  "type": "registry:ui",
  "dependencies": [
    "class-variance-authority"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "components/ui/achievement-progress.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\n// Types (inlined)\ninterface Achievement {\n  id: string;\n  name: string;\n  trigger: \"metric\" | \"api\" | \"streak\";\n  description?: string | null;\n  badgeUrl?: string | null;\n  key?: string;\n  metricId?: string;\n  metricName?: string;\n  metricValue?: number;\n  streakLength?: number;\n}\n\n// Variants\nconst achievementProgressVariants = cva(\"w-full\", {\n  variants: {\n    variant: {\n      default: \"\",\n      gradient: \"\",\n    },\n    size: {\n      sm: \"space-y-1\",\n      default: \"space-y-1.5\",\n      lg: \"space-y-2\",\n    },\n  },\n  defaultVariants: {\n    variant: \"default\",\n    size: \"default\",\n  },\n});\n\nconst progressBarVariants = cva(\n  \"h-full rounded-full transition-all duration-500 ease-out\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-purple-500\",\n        gradient: \"bg-gradient-to-r from-purple-500 to-pink-500\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\n// Props\ninterface AchievementProgressProps\n  extends\n    React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof achievementProgressVariants> {\n  /** Achievement data (must be metric type with metricValue) */\n  achievement: Achievement;\n  /** Current progress value */\n  currentValue: number;\n  /** Show numeric value (e.g., \"45/100\") */\n  showValue?: boolean;\n  /** Show percentage */\n  showPercentage?: boolean;\n  /** Show achievement name */\n  showName?: boolean;\n  /** Animate the progress bar */\n  animate?: boolean;\n}\n\nconst AchievementProgress = React.forwardRef<\n  HTMLDivElement,\n  AchievementProgressProps\n>(\n  (\n    {\n      className,\n      variant,\n      size,\n      achievement,\n      currentValue,\n      showValue = true,\n      showPercentage = false,\n      showName = false,\n      animate = true,\n      ...props\n    },\n    ref,\n  ) => {\n    const target = achievement.metricValue ?? 0;\n    const progress =\n      target > 0 ? Math.min((currentValue / target) * 100, 100) : 0;\n    const isComplete = currentValue >= target;\n\n    const barHeight = {\n      sm: \"h-1.5\",\n      default: \"h-2\",\n      lg: \"h-3\",\n    }[size ?? \"default\"];\n\n    const textSize = {\n      sm: \"text-xs\",\n      default: \"text-sm\",\n      lg: \"text-base\",\n    }[size ?? \"default\"];\n\n    // For animation, start at 0 and animate to actual value\n    const [displayProgress, setDisplayProgress] = React.useState(\n      animate ? 0 : progress,\n    );\n\n    React.useEffect(() => {\n      if (animate) {\n        // Small delay to ensure the animation is visible\n        const timeout = setTimeout(() => {\n          setDisplayProgress(progress);\n        }, 100);\n        return () => clearTimeout(timeout);\n      } else {\n        setDisplayProgress(progress);\n      }\n    }, [progress, animate]);\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          achievementProgressVariants({ variant, size }),\n          className,\n        )}\n        {...props}\n      >\n        {/* Header row */}\n        {(showName || showValue || showPercentage) && (\n          <div className={cn(\"flex items-center justify-between\", textSize)}>\n            {showName && (\n              <span className=\"font-medium truncate mr-2\">\n                {achievement.name}\n              </span>\n            )}\n            <div className=\"flex items-center gap-2 ml-auto text-muted-foreground\">\n              {showValue && (\n                <span>\n                  {currentValue}/{target}\n                </span>\n              )}\n              {showPercentage && <span>{Math.round(progress)}%</span>}\n            </div>\n          </div>\n        )}\n\n        {/* Progress bar */}\n        <div\n          className={cn(\n            \"w-full overflow-hidden rounded-full bg-muted\",\n            barHeight,\n          )}\n          role=\"progressbar\"\n          aria-valuenow={currentValue}\n          aria-valuemin={0}\n          aria-valuemax={target}\n          aria-label={`${achievement.name} progress`}\n        >\n          <div\n            className={cn(\n              progressBarVariants({ variant }),\n              isComplete && \"bg-green-500\",\n            )}\n            style={{ width: `${displayProgress}%` }}\n          />\n        </div>\n\n        {/* Completion message */}\n        {isComplete && (\n          <p className={cn(\"text-green-600 dark:text-green-400\", textSize)}>\n            Complete! ðŸŽ‰\n          </p>\n        )}\n      </div>\n    );\n  },\n);\nAchievementProgress.displayName = \"AchievementProgress\";\n\nexport { AchievementProgress, achievementProgressVariants };\nexport type { AchievementProgressProps, Achievement };\n",
      "type": "registry:ui"
    }
  ]
}